(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,27823,(e,a,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"warnOnce",{enumerable:!0,get:function(){return t}});let t=e=>{}},35320,e=>{"use strict";var a=e.i(29130),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let t=(e,t)=>{let l=(0,a.forwardRef)(({color:l="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:c="",children:d,...o},m)=>(0,a.createElement)("svg",{ref:m,...s,width:r,height:r,stroke:l,strokeWidth:n?24*Number(i)/Number(r):i,className:["lucide",`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()}`,c].join(" "),...o},[...t.map(([e,s])=>(0,a.createElement)(e,s)),...Array.isArray(d)?d:[d]]));return l.displayName=`${e}`,l};e.s(["default",()=>t],35320)},6180,e=>{"use strict";let a=(0,e.i(35320).default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);e.s(["Users",()=>a],6180)},66826,53207,e=>{"use strict";var a=e.i(35320);let s=(0,a.default)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);e.s(["Sparkles",()=>s],66826);let t=(0,a.default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],53207)},34353,e=>{"use strict";let a=(0,e.i(35320).default)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);e.s(["Edit2",()=>a],34353)},21135,e=>{"use strict";let a=(0,e.i(35320).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);e.s(["Phone",()=>a],21135)},90223,e=>{"use strict";let a=(0,e.i(35320).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);e.s(["Mail",()=>a],90223)},78506,e=>{"use strict";let a=(0,e.i(35320).default)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);e.s(["Shield",()=>a],78506)},69060,e=>{"use strict";let a=(0,e.i(35320).default)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);e.s(["Save",()=>a],69060)},31983,e=>{"use strict";let a=(0,e.i(35320).default)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);e.s(["Camera",()=>a],31983)},2699,e=>{"use strict";var a=e.i(46623),s=e.i(29130),t=e.i(87577),l=e.i(89896),r=e.i(93841),i=e.i(1266),n=e.i(6261),c=e.i(53207),d=e.i(90223),o=e.i(21135),m=e.i(78506),x=e.i(81422),u=e.i(34353),h=e.i(31983),p=e.i(69060),f=e.i(1547);let g=(0,e.i(35320).default)("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);function j(){var e;let j=(0,t.useRouter)(),{user:y,isAuthenticated:v,logout:w}=(0,l.useAuthStore)(),{updateUser:N,users:b}=(0,l.useDataStore)(),{locale:k}=(0,r.useI18n)(),[C,S]=(0,s.useState)(!1),[M,_]=(0,s.useState)(!1),[P,A]=(0,s.useState)(null),[L,B]=(0,s.useState)(!1),I=(0,s.useRef)(null),[U,q]=(0,s.useState)({full_name:"",email:"",phone:""}),[z,R]=(0,s.useState)({current:"",new_password:"",confirm:""});return((0,s.useEffect)(()=>{v||j.push("/login"),y&&(q({full_name:y.full_name||"",email:y.email||"",phone:y.phone||""}),A(y.avatar||null))},[v,y,j]),v&&y)?(0,a.jsx)(i.default,{children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6 animate-fadeIn",children:[(0,a.jsx)(n.PageHeader,{title:"lo"===k?"ໂປຣໄຟລ໌":"My Profile",subtitle:"lo"===k?"ຈັດການຂໍ້ມູນສ່ວນຕົວ":"Manage your personal information",action:C?(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(n.Button,{variant:"secondary",icon:(0,a.jsx)(f.X,{className:"w-5 h-5"}),onClick:()=>{S(!1),q({full_name:y.full_name,email:y.email,phone:y.phone||""})},children:"lo"===k?"ຍົກເລີກ":"Cancel"}),(0,a.jsx)(n.Button,{variant:"success",icon:(0,a.jsx)(p.Save,{className:"w-5 h-5"}),onClick:()=>{N(y.id,{...U,avatar:P}),S(!1),B(!0),setTimeout(()=>B(!1),3e3)},children:"lo"===k?"ບັນທຶກ":"Save"})]}):(0,a.jsx)(n.Button,{icon:(0,a.jsx)(u.Edit2,{className:"w-5 h-5"}),onClick:()=>S(!0),children:"lo"===k?"ແກ້ໄຂ":"Edit"})}),L&&(0,a.jsx)(n.Alert,{variant:"success",title:"lo"===k?"ບັນທຶກສຳເລັດ!":"Saved successfully!",children:void 0}),(0,a.jsxs)(n.Card,{className:"overflow-hidden",children:[(0,a.jsx)("div",{className:"h-32 bg-gradient-to-r from-rose-500 via-pink-500 to-purple-500"}),(0,a.jsx)("div",{className:"px-6 pb-6",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-center sm:items-end gap-4 -mt-16",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-32 h-32 rounded-2xl bg-white p-1 shadow-xl",children:(0,a.jsx)("div",{className:"w-full h-full rounded-xl bg-gradient-to-br from-rose-400 to-pink-500 flex items-center justify-center overflow-hidden",children:P?(0,a.jsx)("img",{src:P,alt:"Avatar",className:"w-full h-full object-cover"}):(0,a.jsx)("span",{className:"text-5xl font-bold text-white",children:y.full_name?.charAt(0)||"U"})})}),C&&(0,a.jsx)("button",{onClick:()=>I.current?.click(),className:"absolute bottom-2 right-2 p-2 bg-white rounded-full shadow-lg hover:bg-gray-50",children:(0,a.jsx)(h.Camera,{className:"w-4 h-4 text-gray-600"})}),(0,a.jsx)("input",{ref:I,type:"file",accept:"image/*",className:"hidden",onChange:e=>{let a=e.target.files?.[0];if(!a)return;if(a.size>1048576)return void alert("lo"===k?"ຮູບຕ້ອງນ້ອຍກວ່າ 1MB":"Image must be less than 1MB");let s=new FileReader;s.onload=e=>A(e.target?.result),s.readAsDataURL(a)}})]}),(0,a.jsxs)("div",{className:"flex-1 text-center sm:text-left pt-4 sm:pt-0",children:[C?(0,a.jsx)("input",{type:"text",value:U.full_name,onChange:e=>q({...U,full_name:e.target.value}),className:"text-2xl font-bold text-gray-900 border-b-2 border-rose-500 bg-transparent outline-none w-full sm:w-auto"}):(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:y.full_name}),(0,a.jsxs)("div",{className:"flex items-center justify-center sm:justify-start gap-2 mt-2",children:[(e=y.role,(0,a.jsx)(n.Badge,{variant:{admin:"success",manager:"info",staff:"warning"}[e]||"default",children:e.toUpperCase()})),(0,a.jsx)("span",{className:"text-gray-500 text-sm",children:"•"}),(0,a.jsx)("span",{className:"text-gray-500 text-sm",children:y.email})]})]}),(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsx)(n.Button,{variant:"secondary",size:"sm",icon:(0,a.jsx)(g,{className:"w-4 h-4"}),onClick:()=>_(!0),children:"lo"===k?"ປ່ຽນລະຫັດ":"Password"})})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)(n.Card,{children:[(0,a.jsxs)("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,a.jsx)(c.User,{className:"w-5 h-5 text-rose-500"}),"lo"===k?"ຂໍ້ມູນສ່ວນຕົວ":"Personal Information"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-500",children:"lo"===k?"ຊື່ເຕັມ":"Full Name"}),C?(0,a.jsx)(n.Input,{value:U.full_name,onChange:e=>q({...U,full_name:e.target.value})}):(0,a.jsx)("p",{className:"font-medium text-gray-900",children:y.full_name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-500",children:"lo"===k?"ອີເມລ":"Email"}),C?(0,a.jsx)(n.Input,{type:"email",value:U.email,onChange:e=>q({...U,email:e.target.value})}):(0,a.jsxs)("p",{className:"font-medium text-gray-900 flex items-center gap-2",children:[(0,a.jsx)(d.Mail,{className:"w-4 h-4 text-gray-400"})," ",y.email]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-500",children:"lo"===k?"ເບີໂທ":"Phone"}),C?(0,a.jsx)(n.Input,{type:"tel",value:U.phone,onChange:e=>q({...U,phone:e.target.value}),placeholder:"+856 20 xxxxxxxx"}):(0,a.jsxs)("p",{className:"font-medium text-gray-900 flex items-center gap-2",children:[(0,a.jsx)(o.Phone,{className:"w-4 h-4 text-gray-400"})," ",y.phone||"-"]})]})]})]}),(0,a.jsxs)(n.Card,{children:[(0,a.jsxs)("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,a.jsx)(m.Shield,{className:"w-5 h-5 text-rose-500"}),"lo"===k?"ຂໍ້ມູນບັນຊີ":"Account Information"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-500",children:"lo"===k?"ບົດບາດ":"Role"}),(0,a.jsxs)("p",{className:"font-medium text-gray-900 flex items-center gap-2",children:[(0,a.jsx)(m.Shield,{className:"w-4 h-4 text-gray-400"})," ",y.role?.toUpperCase()]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-500",children:"lo"===k?"ສະຖານະ":"Status"}),(0,a.jsxs)("p",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),(0,a.jsx)("span",{className:"font-medium text-emerald-600",children:"lo"===k?"ເຄື່ອນໄຫວ":"Active"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-500",children:"lo"===k?"ສ້າງເມື່ອ":"Created"}),(0,a.jsxs)("p",{className:"font-medium text-gray-900 flex items-center gap-2",children:[(0,a.jsx)(x.Calendar,{className:"w-4 h-4 text-gray-400"})," ",y.created_at||"2025-01-01"]})]})]})]})]}),M&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)(n.Card,{className:"w-full max-w-md animate-scaleIn",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,a.jsx)(g,{className:"w-5 h-5 text-rose-500"}),"lo"===k?"ປ່ຽນລະຫັດຜ່ານ":"Change Password"]}),(0,a.jsxs)("form",{onSubmit:e=>{(e.preventDefault(),z.new_password!==z.confirm)?alert("lo"===k?"ລະຫັດຜ່ານບໍ່ກົງກັນ":"Passwords do not match"):(_(!1),R({current:"",new_password:"",confirm:""}),alert("lo"===k?"ປ່ຽນລະຫັດຜ່ານສຳເລັດ":"Password changed successfully"))},className:"space-y-4",children:[(0,a.jsx)(n.Input,{type:"password",label:"lo"===k?"ລະຫັດປັດຈຸບັນ":"Current Password",value:z.current,onChange:e=>R({...z,current:e.target.value}),required:!0}),(0,a.jsx)(n.Input,{type:"password",label:"lo"===k?"ລະຫັດໃໝ່":"New Password",value:z.new_password,onChange:e=>R({...z,new_password:e.target.value}),required:!0}),(0,a.jsx)(n.Input,{type:"password",label:"lo"===k?"ຢືນຢັນລະຫັດໃໝ່":"Confirm New Password",value:z.confirm,onChange:e=>R({...z,confirm:e.target.value}),required:!0}),(0,a.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,a.jsx)(n.Button,{type:"button",variant:"secondary",className:"flex-1",onClick:()=>_(!1),children:"lo"===k?"ຍົກເລີກ":"Cancel"}),(0,a.jsx)(n.Button,{type:"submit",className:"flex-1",children:"lo"===k?"ບັນທຶກ":"Save"})]})]})]})})]})}):null}e.s(["default",()=>j],2699)}]);