(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1753,e=>{"use strict";let a=(0,e.i(35320).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>a],1753)},95508,e=>{"use strict";let a=(0,e.i(35320).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>a],95508)},34353,e=>{"use strict";let a=(0,e.i(35320).default)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);e.s(["Edit2",()=>a],34353)},27823,(e,a,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return l}});let l=e=>{}},35320,e=>{"use strict";var a=e.i(29130),t={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(e,l)=>{let s=(0,a.forwardRef)(({color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:o="",children:c,...d},u)=>(0,a.createElement)("svg",{ref:u,...t,width:r,height:r,stroke:s,strokeWidth:n?24*Number(i)/Number(r):i,className:["lucide",`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()}`,o].join(" "),...d},[...l.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s};e.s(["default",()=>l],35320)},6180,e=>{"use strict";let a=(0,e.i(35320).default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);e.s(["Users",()=>a],6180)},66826,53207,e=>{"use strict";var a=e.i(35320);let t=(0,a.default)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);e.s(["Sparkles",()=>t],66826);let l=(0,a.default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>l],53207)},14936,e=>{"use strict";let a=(0,e.i(35320).default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>a],14936)},9021,e=>{"use strict";let a=(0,e.i(35320).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>a],9021)},68171,e=>{"use strict";let a=(0,e.i(35320).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>a],68171)},99338,e=>{"use strict";var a=e.i(46623),t=e.i(29130),l=e.i(87577),s=e.i(89896),r=e.i(93841),i=e.i(1266),n=e.i(6261),o=e.i(28205),c=e.i(95508),d=e.i(29085),u=e.i(1753),m=e.i(34353),h=e.i(9021),p=e.i(35320);let g=(0,p.default)("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);var v=e.i(68171),y=e.i(14936);let x=(0,p.default)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);function f(){let e=(0,l.useRouter)(),{isAuthenticated:p}=(0,s.useAuthStore)(),{services:f,serviceCategories:j,appointments:k,addService:b,updateService:N,deleteService:C}=(0,s.useDataStore)(),{locale:S,t:w}=(0,r.useI18n)(),[_,M]=(0,t.useState)(""),[T,P]=(0,t.useState)(""),[L,q]=(0,t.useState)(!1),[$,U]=(0,t.useState)(null),[B,E]=(0,t.useState)({name:"",name_lo:"",category_id:"",price:"",duration:"",description:""});if((0,t.useEffect)(()=>{p||e.push("/login")},[p,e]),!p)return null;let A=(0,t.useMemo)(()=>f.filter(e=>{let a=e.name.toLowerCase().includes(_.toLowerCase())||e.name_lo.includes(_),t=!T||e.category_id===Number(T);return a&&t}),[f,_,T]),H=(0,t.useMemo)(()=>{let e=k.filter(e=>"completed"===e.status),a=f.map(a=>({...a,bookings:e.filter(e=>e.service_id===a.id).length,revenue:e.filter(e=>e.service_id===a.id).reduce((e,a)=>e+a.total_price,0)})).sort((e,a)=>a.revenue-e.revenue);return{total:f.length,categories:j.length,avgPrice:f.length>0?Math.round(f.reduce((e,a)=>e+a.price,0)/f.length):0,topService:a[0]}},[f,j,k]),I=e=>{e?(U(e),E({name:e.name,name_lo:e.name_lo,category_id:String(e.category_id),price:String(e.price),duration:String(e.duration),description:""})):(U(null),E({name:"",name_lo:"",category_id:"",price:"",duration:"60",description:""})),q(!0)},O=()=>{q(!1),U(null)},D={1:"from-rose-400 to-pink-500",2:"from-blue-400 to-indigo-500",3:"from-purple-400 to-violet-500",4:"from-emerald-400 to-teal-500",5:"from-amber-400 to-orange-500",6:"from-cyan-400 to-sky-500"};return(0,a.jsx)(i.default,{children:(0,a.jsxs)("div",{className:"space-y-6 animate-fadeIn",children:[(0,a.jsx)(n.PageHeader,{title:w("services.title"),subtitle:"lo"===S?"ຈັດການບໍລິການຂອງຮ້ານ":"Manage your salon services",action:(0,a.jsx)(n.Button,{icon:(0,a.jsx)(c.Plus,{className:"w-5 h-5"}),onClick:()=>I(),children:w("services.add")})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsx)(n.StatCard,{title:"lo"===S?"ບໍລິການທັງໝົດ":"Total Services",value:H.total,icon:(0,a.jsx)(d.Scissors,{className:"w-6 h-6"}),color:"rose"}),(0,a.jsx)(n.StatCard,{title:"lo"===S?"ໝວດໝູ່":"Categories",value:H.categories,icon:(0,a.jsx)(x,{className:"w-6 h-6"}),color:"blue"}),(0,a.jsx)(n.StatCard,{title:"lo"===S?"ລາຄາສະເລ່ຍ":"Average Price",value:(0,o.formatCurrency)(H.avgPrice),icon:(0,a.jsx)(y.DollarSign,{className:"w-6 h-6"}),color:"emerald"}),(0,a.jsx)(n.StatCard,{title:"lo"===S?"ບໍລິການຍອດນິຍົມ":"Top Service",value:H.topService?("lo"===S?H.topService.name_lo:H.topService.name).substring(0,15):"-",icon:(0,a.jsx)(v.TrendingUp,{className:"w-6 h-6"}),color:"amber"})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)(n.SearchInput,{value:_,onChange:M,placeholder:w("common.search")})}),(0,a.jsxs)("select",{value:T,onChange:e=>P(e.target.value),className:"px-4 py-2.5 border rounded-lg bg-white",children:[(0,a.jsxs)("option",{value:"",children:[w("common.all")," ","lo"===S?"ໝວດໝູ່":"Categories"]}),j.map(e=>(0,a.jsx)("option",{value:e.id,children:"lo"===S?e.name_lo:e.name},e.id))]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:0===A.length?(0,a.jsx)("div",{className:"col-span-full",children:(0,a.jsx)(n.Card,{children:(0,a.jsx)(n.EmptyState,{icon:(0,a.jsx)(d.Scissors,{className:"w-8 h-8"}),title:"lo"===S?"ບໍ່ພົບບໍລິການ":"No services found",action:(0,a.jsx)(n.Button,{onClick:()=>I(),children:w("services.add")})})})}):A.map(e=>(0,a.jsxs)(n.Card,{hover:!0,className:"overflow-hidden p-0",children:[(0,a.jsx)("div",{className:`h-2 bg-gradient-to-r ${D[e.category_id]||"from-gray-400 to-gray-500"}`}),(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:"lo"===S?e.name_lo:e.name}),(0,a.jsxs)(n.Badge,{variant:"default",size:"sm",children:[(0,a.jsx)(g,{className:"w-3 h-3 mr-1"}),e.category]})]}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("button",{onClick:()=>I(e),className:"p-1.5 hover:bg-gray-100 rounded-lg",children:(0,a.jsx)(m.Edit2,{className:"w-4 h-4 text-gray-500"})}),(0,a.jsx)("button",{onClick:()=>C(e.id),className:"p-1.5 hover:bg-red-50 rounded-lg",children:(0,a.jsx)(h.Trash2,{className:"w-4 h-4 text-red-500"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-gray-500",children:[(0,a.jsx)(u.Clock,{className:"w-4 h-4"}),(0,a.jsxs)("span",{className:"text-sm",children:[e.duration," ","lo"===S?"ນາທີ":"min"]})]}),(0,a.jsx)("span",{className:"text-xl font-bold text-rose-600",children:(0,o.formatCurrency)(e.price)})]})]})]},e.id))}),(0,a.jsx)(n.Modal,{isOpen:L,onClose:O,title:w($?"common.edit":"services.add"),children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault();let a=j.find(e=>e.id===Number(B.category_id)),t={name:B.name,name_lo:B.name_lo,category_id:Number(B.category_id),category_name:a?.name||"",price:Number(B.price),duration:Number(B.duration)};$?N($.id,t):b(t),O()},className:"space-y-4",children:[(0,a.jsx)(n.Input,{label:`${w("services.name")} (English)`,value:B.name,onChange:e=>E({...B,name:e.target.value}),placeholder:"Service name in English",required:!0}),(0,a.jsx)(n.Input,{label:`${w("services.name")} (ລາວ)`,value:B.name_lo,onChange:e=>E({...B,name_lo:e.target.value}),placeholder:"ຊື່ບໍລິການເປັນພາສາລາວ",required:!0}),(0,a.jsx)(n.Select,{label:w("services.category"),value:B.category_id,onChange:e=>E({...B,category_id:e.target.value}),options:j.map(e=>({value:e.id,label:"lo"===S?e.name_lo:e.name})),placeholder:`-- ${"lo"===S?"ເລືອກໝວດໝູ່":"Select Category"} --`,required:!0}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(n.Input,{label:w("services.price"),type:"number",value:B.price,onChange:e=>E({...B,price:e.target.value}),placeholder:"0",required:!0}),(0,a.jsx)(n.Input,{label:`${w("services.duration")} (${"lo"===S?"ນາທີ":"minutes"})`,type:"number",value:B.duration,onChange:e=>E({...B,duration:e.target.value}),placeholder:"60",required:!0})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,a.jsx)(n.Button,{type:"button",variant:"secondary",className:"flex-1",onClick:O,children:w("common.cancel")}),(0,a.jsx)(n.Button,{type:"submit",className:"flex-1",children:w("common.save")})]})]})})]})})}e.s(["default",()=>f],99338)}]);