"use strict";exports.id=688,exports.ids=[688],exports.modules={3538:(e,s,t)=>{t.d(s,{Z:()=>K});var r=t(5344),l=t(3729),a=t(6506),n=t(8428),i=t(2017),o=t(726),d=t(2273),c=t(5794),x=t(9895),m=t(5355),h=t(1917),u=t(1186),g=t(4243),b=t(7925),f=t(340),p=t(7902),j=t(3746),y=t(8765),N=t(3037),v=t(5390),w=t(8822),k=t(8120),C=t(8200),Z=t(473),L=t(4513);let D=[{href:"/dashboard",icon:d.Z,labelKey:"Dashboard",labelLo:"ໜ້າຫຼັກ"},{href:"/appointments",icon:c.Z,labelKey:"Appointments",labelLo:"ນັດໝາຍ"},{href:"/customers",icon:x.Z,labelKey:"Customers",labelLo:"ລູກຄ້າ"},{href:"/services",icon:m.Z,labelKey:"Services",labelLo:"ບໍລິການ"},{href:"/inventory",icon:h.Z,labelKey:"Inventory",labelLo:"ສິນຄ້າ"},{href:"/stock",icon:u.Z,labelKey:"Stock",labelLo:"ສະຕັອກ"},{href:"/billing",icon:g.Z,labelKey:"Billing",labelLo:"ໃບບິນ"},{href:"/income-expense",icon:b.Z,labelKey:"Income/Expense",labelLo:"ລາຍຮັບ-ຈ່າຍ",roles:["admin","manager"]},{href:"/reports",icon:f.Z,labelKey:"Reports",labelLo:"ລາຍງານ",roles:["admin","manager"]},{href:"/users",icon:p.Z,labelKey:"Users",labelLo:"ຜູ້ໃຊ້",roles:["admin","manager"]},{href:"/settings",icon:j.Z,labelKey:"Settings",labelLo:"ຕັ້ງຄ່າ"}];function K({children:e}){let s=(0,n.usePathname)(),t=(0,n.useRouter)(),{user:d,logout:c}=(0,i.t)(),{notifications:x}=(0,i.a)(),{locale:m,setLocale:h}=(0,o.useI18n)(),[u,g]=(0,l.useState)(!1),[b,f]=(0,l.useState)(!1),[p,K]=(0,l.useState)(!1),P=x.filter(e=>!e.is_read).length,_=x.slice(0,5),S=D.filter(e=>!e.roles||e.roles.includes(d?.role||"")),E=()=>{c(),t.push("/login")};return(0,l.useEffect)(()=>{let e=()=>{K(!1),f(!1)};if(p||b)return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[p,b]),(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsxs)("header",{className:"hidden lg:flex fixed top-0 left-72 right-0 h-16 bg-white border-b z-20 px-6 items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:(0,r.jsxs)("div",{className:"relative",children:[r.jsx(y.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"lo"===m?"ຄົ້ນຫາ...":"Search...",className:"pl-10 pr-4 py-2 w-64 bg-gray-50 border-0 rounded-lg text-sm focus:ring-2 focus:ring-rose-500 focus:bg-white"})]})}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 p-1 bg-gray-100 rounded-lg",children:[r.jsx("button",{onClick:()=>h("lo"),className:`px-2 py-1 text-xs font-medium rounded transition-all ${"lo"===m?"bg-white shadow text-rose-600":"text-gray-500"}`,children:"\uD83C\uDDF1\uD83C\uDDE6"}),r.jsx("button",{onClick:()=>h("en"),className:`px-2 py-1 text-xs font-medium rounded transition-all ${"en"===m?"bg-white shadow text-rose-600":"text-gray-500"}`,children:"\uD83C\uDDEC\uD83C\uDDE7"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{onClick:e=>{e.stopPropagation(),K(!p)},className:"relative p-2 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(N.Z,{className:"w-5 h-5 text-gray-600"}),P>0&&r.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-rose-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center animate-pulse",children:P>9?"9+":P})]}),p&&(0,r.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-xl shadow-xl border overflow-hidden animate-fadeIn",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"px-4 py-3 border-b bg-gray-50 flex items-center justify-between",children:[r.jsx("span",{className:"font-semibold text-gray-900",children:"lo"===m?"ແຈ້ງເຕືອນ":"Notifications"}),P>0&&(0,r.jsxs)("span",{className:"px-2 py-0.5 bg-rose-100 text-rose-600 text-xs font-medium rounded-full",children:[P," ","lo"===m?"ໃໝ່":"new"]})]}),r.jsx("div",{className:"max-h-80 overflow-y-auto",children:0===_.length?(0,r.jsxs)("div",{className:"p-6 text-center text-gray-500",children:[r.jsx(N.Z,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),r.jsx("p",{className:"text-sm",children:"lo"===m?"ບໍ່ມີແຈ້ງເຕືອນ":"No notifications"})]}):_.map(e=>r.jsx(a.default,{href:"/notifications",className:`block px-4 py-3 hover:bg-gray-50 border-b last:border-0 ${e.is_read?"":"bg-rose-50/50"}`,children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${e.is_read?"bg-gray-300":"bg-rose-500"}`}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:`text-sm ${e.is_read?"text-gray-600":"font-semibold text-gray-900"}`,children:"lo"===m?e.title_lo:e.title}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:"lo"===m?e.message_lo:e.message})]})]})},e.id))}),r.jsx(a.default,{href:"/notifications",className:"block px-4 py-3 text-center text-sm font-medium text-rose-600 hover:bg-rose-50 border-t",children:"lo"===m?"ເບິ່ງທັງໝົດ":"View all"})]})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{onClick:e=>{e.stopPropagation(),f(!b)},className:"flex items-center gap-3 p-1.5 pr-3 hover:bg-gray-100 rounded-xl transition-colors",children:[r.jsx("div",{className:"w-9 h-9 rounded-lg bg-gradient-to-br from-rose-400 to-pink-500 flex items-center justify-center text-white font-bold text-sm",children:d?.full_name?.charAt(0)||"U"}),(0,r.jsxs)("div",{className:"hidden sm:block text-left",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 leading-tight",children:d?.full_name||"User"}),r.jsx("p",{className:"text-xs text-gray-500 capitalize",children:d?.role})]}),r.jsx(v.Z,{className:`w-4 h-4 text-gray-400 transition-transform ${b?"rotate-180":""}`})]}),b&&(0,r.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-xl shadow-xl border overflow-hidden animate-fadeIn",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"px-4 py-3 border-b bg-gray-50",children:[r.jsx("p",{className:"font-medium text-gray-900",children:d?.full_name}),r.jsx("p",{className:"text-xs text-gray-500",children:d?.email})]}),(0,r.jsxs)(a.default,{href:"/profile",className:"flex items-center gap-3 px-4 py-3 hover:bg-gray-50 text-sm text-gray-700",children:[r.jsx(w.Z,{className:"w-4 h-4"})," ","lo"===m?"ໂປຣໄຟລ໌":"Profile"]}),(0,r.jsxs)(a.default,{href:"/settings",className:"flex items-center gap-3 px-4 py-3 hover:bg-gray-50 text-sm text-gray-700",children:[r.jsx(j.Z,{className:"w-4 h-4"})," ","lo"===m?"ຕັ້ງຄ່າ":"Settings"]}),r.jsx("hr",{}),(0,r.jsxs)("button",{onClick:E,className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-red-50 text-sm text-red-600",children:[r.jsx(k.Z,{className:"w-4 h-4"})," ","lo"===m?"ອອກຈາກລະບົບ":"Logout"]})]})]})]})]}),(0,r.jsxs)("div",{className:"lg:hidden fixed top-0 left-0 right-0 h-16 bg-white border-b z-30 px-4 flex items-center justify-between",children:[r.jsx("button",{onClick:()=>g(!0),className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(C.Z,{className:"w-6 h-6"})}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-rose-500 to-pink-600 rounded-lg flex items-center justify-center",children:r.jsx(Z.Z,{className:"w-5 h-5 text-white"})}),r.jsx("span",{className:"font-bold text-gray-900",children:"Beauty Center"})]}),r.jsx("div",{className:"flex items-center gap-1",children:(0,r.jsxs)("button",{onClick:()=>t.push("/notifications"),className:"p-2 hover:bg-gray-100 rounded-lg relative",children:[r.jsx(N.Z,{className:"w-5 h-5"}),P>0&&r.jsx("span",{className:"absolute top-1 right-1 w-4 h-4 bg-rose-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center",children:P})]})})]}),u&&r.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-40",onClick:()=>g(!1)}),r.jsx("aside",{className:`fixed top-0 left-0 h-full w-72 bg-white border-r z-50 transform transition-transform duration-300 ${u?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{className:"h-16 px-6 flex items-center justify-between border-b",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-rose-500 to-pink-600 rounded-xl flex items-center justify-center shadow-lg shadow-rose-500/30",children:r.jsx(Z.Z,{className:"w-6 h-6 text-white"})}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"font-bold text-gray-900",children:"Beauty Center"}),r.jsx("span",{className:"block text-[10px] text-rose-500 font-medium tracking-wide",children:"DEMO MODE"})]})]}),r.jsx("button",{onClick:()=>g(!1),className:"lg:hidden p-1 hover:bg-gray-100 rounded-lg",children:r.jsx(L.Z,{className:"w-5 h-5"})})]}),r.jsx("nav",{className:"flex-1 overflow-y-auto py-4 px-3",children:r.jsx("div",{className:"space-y-1",children:S.map(e=>{let t=s===e.href;return(0,r.jsxs)(a.default,{href:e.href,onClick:()=>g(!1),className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 ${t?"bg-gradient-to-r from-rose-500 to-pink-500 text-white shadow-lg shadow-rose-500/30":"text-gray-600 hover:bg-gray-100"}`,children:[r.jsx(e.icon,{className:`w-5 h-5 ${t?"text-white":"text-gray-400"}`}),r.jsx("span",{className:"font-medium",children:"lo"===m?e.labelLo:e.labelKey})]},e.href)})})}),(0,r.jsxs)("div",{className:"p-4 border-t lg:hidden",children:[(0,r.jsxs)(a.default,{href:"/profile",className:"flex items-center gap-3 p-3 rounded-xl bg-gray-50",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-rose-400 to-pink-500 flex items-center justify-center text-white font-bold",children:d?.full_name?.charAt(0)||"U"}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-gray-900 text-sm",children:d?.full_name||"User"}),r.jsx("p",{className:"text-xs text-gray-500 capitalize",children:d?.role})]})]}),(0,r.jsxs)("button",{onClick:E,className:"w-full mt-2 flex items-center justify-center gap-2 px-4 py-2.5 bg-red-50 text-red-600 rounded-xl text-sm font-medium hover:bg-red-100",children:[r.jsx(k.Z,{className:"w-4 h-4"})," ","lo"===m?"ອອກຈາກລະບົບ":"Logout"]})]})]})}),r.jsx("main",{className:"lg:ml-72 min-h-screen pt-16 lg:pt-16",children:r.jsx("div",{className:"p-4 lg:p-6",children:e})})]})}},9795:(e,s,t)=>{t.d(s,{Ct:()=>g,II:()=>b,Mj:()=>N,Ph:()=>f,Rm:()=>h,Zb:()=>m,bZ:()=>j,mr:()=>y,u_:()=>u,ub:()=>p,zx:()=>x});var r=t(5344),l=t(4513),a=t(1991),n=t(7060),i=t(5961),o=t(6138),d=t(1453),c=t(8765);function x({children:e,variant:s="primary",size:t="md",loading:l,icon:a,className:n,disabled:i,...o}){return(0,r.jsxs)("button",{className:(0,d.cn)("inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200","disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-rose-500 text-white hover:bg-rose-600 shadow-sm",secondary:"bg-gray-100 text-gray-700 hover:bg-gray-200",success:"bg-emerald-500 text-white hover:bg-emerald-600 shadow-sm",danger:"bg-red-500 text-white hover:bg-red-600 shadow-sm",ghost:"bg-transparent text-gray-600 hover:bg-gray-100"}[s],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"}[t],n),disabled:i||l,...o,children:[l?r.jsx("span",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin mr-2"}):a?r.jsx("span",{className:"mr-2",children:a}):null,e]})}function m({children:e,className:s,hover:t=!1,padding:l="md"}){return r.jsx("div",{className:(0,d.cn)("bg-white rounded-xl shadow-sm border border-gray-100",t&&"transition-all duration-200 hover:shadow-md hover:-translate-y-0.5",{none:"",sm:"p-3",md:"p-5",lg:"p-6"}[l],s),children:e})}function h({title:e,value:s,icon:t,trend:l,color:a="rose"}){return r.jsx(m,{hover:!0,className:"p-5",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:e}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s}),l&&(0,r.jsxs)("p",{className:(0,d.cn)("text-xs font-medium",l.value>=0?"text-emerald-600":"text-red-600"),children:[l.value>=0?"↑":"↓"," ",Math.abs(l.value),"% ",l.isUp]})]}),r.jsx("div",{className:(0,d.cn)("w-12 h-12 rounded-xl flex items-center justify-center",{rose:"bg-rose-50 text-rose-600",emerald:"bg-emerald-50 text-emerald-600",blue:"bg-blue-50 text-blue-600",amber:"bg-amber-50 text-amber-600",purple:"bg-purple-50 text-purple-600"}[a]),children:t})]})})}function u({isOpen:e,onClose:s,title:t,children:a,size:n="md"}){return e?r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:s,children:(0,r.jsxs)("div",{className:(0,d.cn)("bg-white rounded-2xl shadow-2xl w-full animate-fadeIn",{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"}[n]),onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:t}),r.jsx("button",{onClick:s,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(l.Z,{className:"w-5 h-5 text-gray-500"})})]}),r.jsx("div",{className:"p-6",children:a})]})}):null}function g({children:e,variant:s="default",size:t="md"}){return r.jsx("span",{className:(0,d.cn)("inline-flex items-center font-medium rounded-full",{default:"bg-gray-100 text-gray-700",success:"bg-emerald-100 text-emerald-700",warning:"bg-amber-100 text-amber-700",danger:"bg-red-100 text-red-700",info:"bg-blue-100 text-blue-700"}[s],{sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-xs"}[t]),children:e})}function b({label:e,error:s,icon:t,className:l,...a}){return(0,r.jsxs)("div",{className:"space-y-1",children:[e&&r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),(0,r.jsxs)("div",{className:"relative",children:[t&&r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:t}),r.jsx("input",{className:(0,d.cn)("w-full px-4 py-2.5 border border-gray-200 rounded-lg transition-all","focus:border-rose-500 focus:ring-2 focus:ring-rose-500/20","placeholder:text-gray-400",t&&"pl-10",s&&"border-red-300 focus:border-red-500 focus:ring-red-500/20",l),...a})]}),s&&r.jsx("p",{className:"text-sm text-red-500",children:s})]})}function f({label:e,options:s,placeholder:t,className:l,...a}){return(0,r.jsxs)("div",{className:"space-y-1",children:[e&&r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),(0,r.jsxs)("select",{className:(0,d.cn)("w-full px-4 py-2.5 border border-gray-200 rounded-lg transition-all","focus:border-rose-500 focus:ring-2 focus:ring-rose-500/20","bg-white",l),...a,children:[t&&r.jsx("option",{value:"",children:t}),s.map(e=>r.jsx("option",{value:e.value,children:e.label},e.value))]})]})}function p({icon:e,title:s,description:t,action:l}){return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mb-4 text-gray-400",children:e}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:s}),t&&r.jsx("p",{className:"text-sm text-gray-500 mb-4 text-center",children:t}),l]})}function j({variant:e="info",title:s,children:t}){let{bg:l,icon:c,iconColor:x}={info:{bg:"bg-blue-50 border-blue-200",icon:a.Z,iconColor:"text-blue-500"},success:{bg:"bg-emerald-50 border-emerald-200",icon:n.Z,iconColor:"text-emerald-500"},warning:{bg:"bg-amber-50 border-amber-200",icon:i.Z,iconColor:"text-amber-500"},error:{bg:"bg-red-50 border-red-200",icon:o.Z,iconColor:"text-red-500"}}[e];return(0,r.jsxs)("div",{className:(0,d.cn)("flex gap-3 p-4 rounded-xl border",l),children:[r.jsx(c,{className:(0,d.cn)("w-5 h-5 flex-shrink-0 mt-0.5",x)}),(0,r.jsxs)("div",{children:[s&&r.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:s}),r.jsx("p",{className:"text-sm text-gray-600",children:t})]})]})}function y({title:e,subtitle:s,action:t}){return(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e}),s&&r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:s})]}),t]})}function N({value:e,onChange:s,placeholder:t="Search..."}){return(0,r.jsxs)("div",{className:"relative",children:[r.jsx(c.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",value:e,onChange:e=>s(e.target.value),placeholder:t,className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-lg focus:border-rose-500 focus:ring-2 focus:ring-rose-500/20"})]})}},1453:(e,s,t)=>{t.d(s,{G:()=>d,cn:()=>a,li:()=>o,uf:()=>i,xG:()=>n});var r=t(6815),l=t(9377);function a(...e){return(0,l.m6)((0,r.W)(e))}function n(e,s="LAK"){if(null==e||isNaN(e))return"0 ₭";let t=Math.abs(e).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,","),r=e<0?"-":"";switch(s){case"LAK":return r+t+" ₭";case"THB":return r+"฿"+t;case"USD":return r+"$"+Math.abs(e).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",");default:return r+t+" "+s}}function i(e){return null==e||isNaN(e)?"0":Math.abs(e).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")}function o(e,s="en"){return({pending:{en:"Pending",lo:"ລໍຖ້າ"},confirmed:{en:"Confirmed",lo:"ຢືນຢັນແລ້ວ"},in_progress:{en:"In Progress",lo:"ກຳລັງເຮັດ"},done:{en:"Completed",lo:"ສຳເລັດ"},cancelled:{en:"Cancelled",lo:"ຍົກເລີກ"},paid:{en:"Paid",lo:"ຊຳລະແລ້ວ"}})[e]?.["lo"===s?"lo":"en"]||e}function d(e,s){return"https://api.dicebear.com/7.x/shapes/svg?seed="+encodeURIComponent(e||"product")+"&backgroundColor="+(({"Hair Products":"f472b6",Skincare:"a78bfa","Nail Products":"fb7185","Massage Oils":"34d399",Makeup:"fbbf24",Equipment:"60a5fa",Consumables:"9ca3af"})[s||""]||"ec4899")}}};