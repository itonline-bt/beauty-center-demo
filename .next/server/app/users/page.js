(()=>{var e={};e.id=240,e.ids=[240],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8173:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c});var l=a(482),t=a(9108),r=a(2563),n=a.n(r),i=a(8300),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(s,o);let c=["",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,4074)),"D:\\Download\\beauty-center-demo\\src\\app\\users\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,1403)),"D:\\Download\\beauty-center-demo\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9361,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\Download\\beauty-center-demo\\src\\app\\users\\page.tsx"],u="/users/page",m={require:a,loadChunk:()=>Promise.resolve()},x=new l.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/users/page",pathname:"/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5219:(e,s,a)=>{Promise.resolve().then(a.bind(a,6566))},1206:(e,s,a)=>{"use strict";a.d(s,{Z:()=>l});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a(9224).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},6075:(e,s,a)=>{"use strict";a.d(s,{Z:()=>l});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a(9224).Z)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]])},626:(e,s,a)=>{"use strict";a.d(s,{Z:()=>l});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a(9224).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},1838:(e,s,a)=>{"use strict";a.d(s,{Z:()=>l});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a(9224).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3485:(e,s,a)=>{"use strict";a.d(s,{Z:()=>l});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a(9224).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},8271:(e,s,a)=>{"use strict";a.d(s,{Z:()=>l});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a(9224).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},6566:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>j});var l=a(5344),t=a(3729),r=a(8428),n=a(2017),i=a(726),o=a(3538),c=a(9795),d=a(1838),u=a(9895),m=a(9224);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,m.Z)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);var h=a(3485);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,m.Z)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);var g=a(6075),f=a(8271),v=a(1206),y=a(626);function j(){let e=(0,r.useRouter)(),{user:s,isAuthenticated:a}=(0,n.t)(),{users:m,addUser:j,updateUser:_,deleteUser:b}=(0,n.a)(),{locale:N,t:k}=(0,i.useI18n)(),[w,Z]=(0,t.useState)(""),[C,M]=(0,t.useState)(""),[P,q]=(0,t.useState)(!1),[A,S]=(0,t.useState)(null),[I,D]=(0,t.useState)({email:"",full_name:"",full_name_lo:"",phone:"",role:"staff",is_active:!0});if((0,t.useEffect)(()=>{a?s?.role==="staff"&&e.push("/dashboard"):e.push("/login")},[a,s,e]),!a||s?.role==="staff")return null;let E=(0,t.useMemo)(()=>m.filter(e=>{let s=e.full_name.toLowerCase().includes(w.toLowerCase())||e.email.toLowerCase().includes(w.toLowerCase()),a=!C||e.role===C;return s&&a}),[m,w,C]),L=(0,t.useMemo)(()=>({total:m.length,active:m.filter(e=>e.is_active).length,admin:m.filter(e=>"admin"===e.role).length,staff:m.filter(e=>"staff"===e.role).length}),[m]),R=e=>{e?(S(e),D({email:e.email,full_name:e.full_name,full_name_lo:e.full_name_lo||"",phone:e.phone,role:e.role,is_active:e.is_active})):(S(null),D({email:"",full_name:"",full_name_lo:"",phone:"",role:"staff",is_active:!0})),q(!0)},z=()=>{q(!1),S(null)},$=e=>l.jsx(c.Ct,{variant:{admin:"danger",manager:"info",staff:"default"}[e]||"default",children:{admin:"lo"===N?"ແອດມິນ":"Admin",manager:"lo"===N?"ຜູ້ຈັດການ":"Manager",staff:"lo"===N?"ພະນັກງານ":"Staff"}[e]});return l.jsx(o.Z,{children:(0,l.jsxs)("div",{className:"space-y-6 animate-fadeIn",children:[l.jsx(c.mr,{title:k("users.title"),subtitle:"lo"===N?"ຈັດການບັນຊີຜູ້ໃຊ້ງານ":"Manage user accounts",action:l.jsx(c.zx,{icon:l.jsx(d.Z,{className:"w-5 h-5"}),onClick:()=>R(),children:k("users.add")})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(c.Rm,{title:"lo"===N?"ຜູ້ໃຊ້ທັງໝົດ":"Total Users",value:L.total,icon:l.jsx(u.Z,{className:"w-6 h-6"}),color:"blue"}),l.jsx(c.Rm,{title:"lo"===N?"ເປີດໃຊ້ງານ":"Active",value:L.active,icon:l.jsx(x,{className:"w-6 h-6"}),color:"emerald"}),l.jsx(c.Rm,{title:"lo"===N?"ແອດມິນ":"Admins",value:L.admin,icon:l.jsx(h.Z,{className:"w-6 h-6"}),color:"rose"}),l.jsx(c.Rm,{title:"lo"===N?"ພະນັກງານ":"Staff",value:L.staff,icon:l.jsx(u.Z,{className:"w-6 h-6"}),color:"purple"})]}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx(c.Mj,{value:w,onChange:Z,placeholder:k("common.search")})}),(0,l.jsxs)("select",{value:C,onChange:e=>M(e.target.value),className:"px-4 py-2.5 border rounded-lg bg-white",children:[l.jsx("option",{value:"",children:"lo"===N?"ທຸກບົດບາດ":"All Roles"}),l.jsx("option",{value:"admin",children:"lo"===N?"ແອດມິນ":"Admin"}),l.jsx("option",{value:"manager",children:"lo"===N?"ຜູ້ຈັດການ":"Manager"}),l.jsx("option",{value:"staff",children:"lo"===N?"ພະນັກງານ":"Staff"})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:0===E.length?l.jsx("div",{className:"col-span-full",children:l.jsx(c.Zb,{children:l.jsx(c.ub,{icon:l.jsx(u.Z,{className:"w-8 h-8"}),title:"lo"===N?"ບໍ່ພົບຜູ້ໃຊ້":"No users found"})})}):E.map(e=>(0,l.jsxs)(c.Zb,{hover:!0,className:`${e.is_active?"":"opacity-60"}`,children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-white font-bold ${"admin"===e.role?"bg-gradient-to-br from-rose-500 to-red-600":"manager"===e.role?"bg-gradient-to-br from-blue-500 to-indigo-600":"bg-gradient-to-br from-gray-400 to-gray-500"}`,children:e.full_name.charAt(0)}),(0,l.jsxs)("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:e.full_name}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[$(e.role),!e.is_active&&(0,l.jsxs)(c.Ct,{variant:"danger",children:[l.jsx(p,{className:"w-3 h-3 mr-1"}),"lo"===N?"ປິດ":"Inactive"]})]})]})]}),(0,l.jsxs)("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:()=>R(e),className:"p-1.5 hover:bg-gray-100 rounded-lg",children:l.jsx(g.Z,{className:"w-4 h-4 text-gray-500"})}),e.id!==s?.id&&l.jsx("button",{onClick:()=>b(e.id),className:"p-1.5 hover:bg-red-50 rounded-lg",children:l.jsx(f.Z,{className:"w-4 h-4 text-red-500"})})]})]}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[l.jsx(v.Z,{className:"w-4 h-4 text-gray-400"}),e.email]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[l.jsx(y.Z,{className:"w-4 h-4 text-gray-400"}),e.phone]})]})]},e.id))}),l.jsx(c.u_,{isOpen:P,onClose:z,title:k(A?"common.edit":"users.add"),children:(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),A?_(A.id,I):j(I),z()},className:"space-y-4",children:[l.jsx(c.II,{label:"Email",type:"email",value:I.email,onChange:e=>D({...I,email:e.target.value}),required:!0}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(c.II,{label:`${k("users.name")} (EN)`,value:I.full_name,onChange:e=>D({...I,full_name:e.target.value}),required:!0}),l.jsx(c.II,{label:`${k("users.name")} (ລາວ)`,value:I.full_name_lo,onChange:e=>D({...I,full_name_lo:e.target.value})})]}),l.jsx(c.II,{label:k("users.phone"),type:"tel",value:I.phone,onChange:e=>D({...I,phone:e.target.value})}),l.jsx(c.Ph,{label:k("users.role"),value:I.role,onChange:e=>D({...I,role:e.target.value}),options:[{value:"staff",label:"lo"===N?"ພະນັກງານ":"Staff"},{value:"manager",label:"lo"===N?"ຜູ້ຈັດການ":"Manager"},{value:"admin",label:"lo"===N?"ແອດມິນ":"Admin"}]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"is_active",checked:I.is_active,onChange:e=>D({...I,is_active:e.target.checked}),className:"w-4 h-4 text-rose-500"}),l.jsx("label",{htmlFor:"is_active",className:"text-sm",children:"lo"===N?"ເປີດໃຊ້ງານ":"Active"})]}),(0,l.jsxs)("div",{className:"flex gap-3 pt-4",children:[l.jsx(c.zx,{type:"button",variant:"secondary",className:"flex-1",onClick:z,children:k("common.cancel")}),l.jsx(c.zx,{type:"submit",className:"flex-1",children:k("common.save")})]})]})})]})})}},4074:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>r,__esModule:()=>t,default:()=>n});let l=(0,a(6843).createProxy)(String.raw`D:\Download\beauty-center-demo\src\app\users\page.tsx`),{__esModule:t,$$typeof:r}=l,n=l.default}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),l=s.X(0,[198,635,639,104,688],()=>a(8173));module.exports=l})();