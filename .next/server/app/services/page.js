(()=>{var e={};e.id=469,e.ids=[469],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4599:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var a=t(482),r=t(9108),l=t(2563),i=t.n(l),n=t(8300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let c=["",{children:["services",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,9914)),"D:\\Download\\beauty-center-demo\\src\\app\\services\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1403)),"D:\\Download\\beauty-center-demo\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\Download\\beauty-center-demo\\src\\app\\services\\page.tsx"],u="/services/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/services/page",pathname:"/services",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9706:(e,s,t)=>{Promise.resolve().then(t.bind(t,3829))},5545:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8411:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},6075:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]])},1838:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8271:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},6064:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},3829:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var a=t(5344),r=t(3729),l=t(8428),i=t(2017),n=t(726),o=t(3538),c=t(9795),d=t(1453),u=t(1838),m=t(5355),p=t(9224);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,p.Z)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);var h=t(8411),g=t(6064);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let v=(0,p.Z)("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);var y=t(6075),j=t(8271),b=t(5545);function f(){let e=(0,l.useRouter)(),{isAuthenticated:s}=(0,i.t)(),{services:t,serviceCategories:p,appointments:f,addService:_,updateService:N,deleteService:k}=(0,i.a)(),{locale:w,t:Z}=(0,n.useI18n)(),[C,M]=(0,r.useState)(""),[P,q]=(0,r.useState)(""),[S,D]=(0,r.useState)(!1),[I,$]=(0,r.useState)(null),[E,G]=(0,r.useState)({name:"",name_lo:"",category_id:"",price:"",duration:"",description:""});if((0,r.useEffect)(()=>{s||e.push("/login")},[s,e]),!s)return null;let R=(0,r.useMemo)(()=>t.filter(e=>{let s=e.name.toLowerCase().includes(C.toLowerCase())||e.name_lo.includes(C),t=!P||e.category_id===Number(P);return s&&t}),[t,C,P]),T=(0,r.useMemo)(()=>{let e=f.filter(e=>"completed"===e.status),s=t.map(s=>({...s,bookings:e.filter(e=>e.service_id===s.id).length,revenue:e.filter(e=>e.service_id===s.id).reduce((e,s)=>e+s.total_price,0)})).sort((e,s)=>s.revenue-e.revenue);return{total:t.length,categories:p.length,avgPrice:t.length>0?Math.round(t.reduce((e,s)=>e+s.price,0)/t.length):0,topService:s[0]}},[t,p,f]),z=e=>{e?($(e),G({name:e.name,name_lo:e.name_lo,category_id:String(e.category_id),price:String(e.price),duration:String(e.duration),description:""})):($(null),G({name:"",name_lo:"",category_id:"",price:"",duration:"60",description:""})),D(!0)},A=()=>{D(!1),$(null)},H={1:"from-rose-400 to-pink-500",2:"from-blue-400 to-indigo-500",3:"from-purple-400 to-violet-500",4:"from-emerald-400 to-teal-500",5:"from-amber-400 to-orange-500",6:"from-cyan-400 to-sky-500"};return a.jsx(o.Z,{children:(0,a.jsxs)("div",{className:"space-y-6 animate-fadeIn",children:[a.jsx(c.mr,{title:Z("services.title"),subtitle:"lo"===w?"ຈັດການບໍລິການຂອງຮ້ານ":"Manage your salon services",action:a.jsx(c.zx,{icon:a.jsx(u.Z,{className:"w-5 h-5"}),onClick:()=>z(),children:Z("services.add")})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(c.Rm,{title:"lo"===w?"ບໍລິການທັງໝົດ":"Total Services",value:T.total,icon:a.jsx(m.Z,{className:"w-6 h-6"}),color:"rose"}),a.jsx(c.Rm,{title:"lo"===w?"ໝວດໝູ່":"Categories",value:T.categories,icon:a.jsx(x,{className:"w-6 h-6"}),color:"blue"}),a.jsx(c.Rm,{title:"lo"===w?"ລາຄາສະເລ່ຍ":"Average Price",value:(0,d.xG)(T.avgPrice),icon:a.jsx(h.Z,{className:"w-6 h-6"}),color:"emerald"}),a.jsx(c.Rm,{title:"lo"===w?"ບໍລິການຍອດນິຍົມ":"Top Service",value:T.topService?("lo"===w?T.topService.name_lo:T.topService.name).substring(0,15):"-",icon:a.jsx(g.Z,{className:"w-6 h-6"}),color:"amber"})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx(c.Mj,{value:C,onChange:M,placeholder:Z("common.search")})}),(0,a.jsxs)("select",{value:P,onChange:e=>q(e.target.value),className:"px-4 py-2.5 border rounded-lg bg-white",children:[(0,a.jsxs)("option",{value:"",children:[Z("common.all")," ","lo"===w?"ໝວດໝູ່":"Categories"]}),p.map(e=>a.jsx("option",{value:e.id,children:"lo"===w?e.name_lo:e.name},e.id))]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:0===R.length?a.jsx("div",{className:"col-span-full",children:a.jsx(c.Zb,{children:a.jsx(c.ub,{icon:a.jsx(m.Z,{className:"w-8 h-8"}),title:"lo"===w?"ບໍ່ພົບບໍລິການ":"No services found",action:a.jsx(c.zx,{onClick:()=>z(),children:Z("services.add")})})})}):R.map(e=>(0,a.jsxs)(c.Zb,{hover:!0,className:"overflow-hidden p-0",children:[a.jsx("div",{className:`h-2 bg-gradient-to-r ${H[e.category_id]||"from-gray-400 to-gray-500"}`}),(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"lo"===w?e.name_lo:e.name}),(0,a.jsxs)(c.Ct,{variant:"default",size:"sm",children:[a.jsx(v,{className:"w-3 h-3 mr-1"}),e.category]})]}),(0,a.jsxs)("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:()=>z(e),className:"p-1.5 hover:bg-gray-100 rounded-lg",children:a.jsx(y.Z,{className:"w-4 h-4 text-gray-500"})}),a.jsx("button",{onClick:()=>k(e.id),className:"p-1.5 hover:bg-red-50 rounded-lg",children:a.jsx(j.Z,{className:"w-4 h-4 text-red-500"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-gray-500",children:[a.jsx(b.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{className:"text-sm",children:[e.duration," ","lo"===w?"ນາທີ":"min"]})]}),a.jsx("span",{className:"text-xl font-bold text-rose-600",children:(0,d.xG)(e.price)})]})]})]},e.id))}),a.jsx(c.u_,{isOpen:S,onClose:A,title:Z(I?"common.edit":"services.add"),children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault();let s=p.find(e=>e.id===Number(E.category_id)),t={name:E.name,name_lo:E.name_lo,category_id:Number(E.category_id),category_name:s?.name||"",price:Number(E.price),duration:Number(E.duration)};I?N(I.id,t):_(t),A()},className:"space-y-4",children:[a.jsx(c.II,{label:`${Z("services.name")} (English)`,value:E.name,onChange:e=>G({...E,name:e.target.value}),placeholder:"Service name in English",required:!0}),a.jsx(c.II,{label:`${Z("services.name")} (ລາວ)`,value:E.name_lo,onChange:e=>G({...E,name_lo:e.target.value}),placeholder:"ຊື່ບໍລິການເປັນພາສາລາວ",required:!0}),a.jsx(c.Ph,{label:Z("services.category"),value:E.category_id,onChange:e=>G({...E,category_id:e.target.value}),options:p.map(e=>({value:e.id,label:"lo"===w?e.name_lo:e.name})),placeholder:`-- ${"lo"===w?"ເລືອກໝວດໝູ່":"Select Category"} --`,required:!0}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(c.II,{label:Z("services.price"),type:"number",value:E.price,onChange:e=>G({...E,price:e.target.value}),placeholder:"0",required:!0}),a.jsx(c.II,{label:`${Z("services.duration")} (${"lo"===w?"ນາທີ":"minutes"})`,type:"number",value:E.duration,onChange:e=>G({...E,duration:e.target.value}),placeholder:"60",required:!0})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[a.jsx(c.zx,{type:"button",variant:"secondary",className:"flex-1",onClick:A,children:Z("common.cancel")}),a.jsx(c.zx,{type:"submit",className:"flex-1",children:Z("common.save")})]})]})})]})})}},9914:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>r,default:()=>i});let a=(0,t(6843).createProxy)(String.raw`D:\Download\beauty-center-demo\src\app\services\page.tsx`),{__esModule:r,$$typeof:l}=a,i=a.default}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[198,635,639,104,688],()=>t(4599));module.exports=a})();