(()=>{var e={};e.id=374,e.ids=[374],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5279:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>c});var a=t(482),l=t(9108),r=t(2563),n=t.n(r),i=t(8300),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(s,o);let c=["",{children:["customers",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5884)),"D:\\Download\\beauty-center-demo\\src\\app\\customers\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1403)),"D:\\Download\\beauty-center-demo\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\Download\\beauty-center-demo\\src\\app\\customers\\page.tsx"],m="/customers/page",x={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/customers/page",pathname:"/customers",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6962:(e,s,t)=>{Promise.resolve().then(t.bind(t,7090))},8411:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},1206:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},6075:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]])},626:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},1838:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8271:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},7090:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y});var a=t(5344),l=t(3729),r=t(8428),n=t(2017),i=t(726),o=t(3538),c=t(9795),d=t(1453),m=t(1838),x=t(9895);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,t(9224).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);var u=t(8411),h=t(6075),g=t(8271),j=t(626),v=t(1206);function y(){var e;let s=(0,r.useRouter)(),{isAuthenticated:t}=(0,n.t)(),{customers:y,appointments:f,addCustomer:N,updateCustomer:b,deleteCustomer:_}=(0,n.a)(),{locale:w,t:k}=(0,i.useI18n)(),[C,Z]=(0,l.useState)(""),[P,M]=(0,l.useState)(!1),[q,S]=(0,l.useState)(!1),[A,G]=(0,l.useState)(null),[I,D]=(0,l.useState)(null),[z,L]=(0,l.useState)({name:"",phone:"",email:"",gender:"female",notes:""});if((0,l.useEffect)(()=>{t||s.push("/login")},[t,s]),!t)return null;let R=(0,l.useMemo)(()=>y.filter(e=>e.name.toLowerCase().includes(C.toLowerCase())||e.phone.includes(C)||e.email?.toLowerCase().includes(C.toLowerCase())),[y,C]),V=(0,l.useMemo)(()=>({total:y.length,totalSpent:y.reduce((e,s)=>e+s.total_spent,0),avgSpent:y.length>0?Math.round(y.reduce((e,s)=>e+s.total_spent,0)/y.length):0,vip:y.filter(e=>e.total_visits>=10).length}),[y]),E=e=>{e?(D(e),L({name:e.name,phone:e.phone,email:e.email||"",gender:e.gender,notes:e.notes||""})):(D(null),L({name:"",phone:"",email:"",gender:"female",notes:""})),M(!0)},T=()=>{M(!1),D(null),L({name:"",phone:"",email:"",gender:"female",notes:""})},H=e=>{G(e),S(!0)};return a.jsx(o.Z,{children:(0,a.jsxs)("div",{className:"space-y-6 animate-fadeIn",children:[a.jsx(c.mr,{title:k("customers.title"),subtitle:"lo"===w?"ຈັດການຂໍ້ມູນລູກຄ້າ":"Manage customer information",action:a.jsx(c.zx,{icon:a.jsx(m.Z,{className:"w-5 h-5"}),onClick:()=>E(),children:k("customers.add")})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(c.Rm,{title:"lo"===w?"ລູກຄ້າທັງໝົດ":"Total Customers",value:V.total,icon:a.jsx(x.Z,{className:"w-6 h-6"}),color:"blue"}),a.jsx(c.Rm,{title:"lo"===w?"ລູກຄ້າ VIP":"VIP Customers",value:V.vip,icon:a.jsx(p,{className:"w-6 h-6"}),color:"amber"}),a.jsx(c.Rm,{title:"lo"===w?"ຍອດໃຊ້ຈ່າຍລວມ":"Total Spent",value:(0,d.xG)(V.totalSpent),icon:a.jsx(u.Z,{className:"w-6 h-6"}),color:"emerald"}),a.jsx(c.Rm,{title:"lo"===w?"ສະເລ່ຍຕໍ່ຄົນ":"Average per Customer",value:(0,d.xG)(V.avgSpent),icon:a.jsx(u.Z,{className:"w-6 h-6"}),color:"purple"})]}),a.jsx(c.Mj,{value:C,onChange:Z,placeholder:k("common.search")}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:0===R.length?a.jsx("div",{className:"col-span-full",children:a.jsx(c.Zb,{children:a.jsx(c.ub,{icon:a.jsx(x.Z,{className:"w-8 h-8"}),title:"lo"===w?"ບໍ່ພົບລູກຄ້າ":"No customers found",action:a.jsx(c.zx,{onClick:()=>E(),children:k("customers.add")})})})}):R.map(e=>(0,a.jsxs)(c.Zb,{hover:!0,className:"cursor-pointer",onClick:()=>H(e),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-rose-400 to-pink-500 flex items-center justify-center text-white font-bold text-lg",children:e.name.charAt(0)}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e.total_visits>=10&&(0,a.jsxs)(c.Ct,{variant:"warning",children:[a.jsx(p,{className:"w-3 h-3 mr-1"}),"VIP"]}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:[e.total_visits," ","lo"===w?"ຄັ້ງ":"visits"]})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-1",onClick:e=>e.stopPropagation(),children:[a.jsx("button",{onClick:()=>E(e),className:"p-1.5 hover:bg-gray-100 rounded-lg",children:a.jsx(h.Z,{className:"w-4 h-4 text-gray-500"})}),a.jsx("button",{onClick:()=>_(e.id),className:"p-1.5 hover:bg-red-50 rounded-lg",children:a.jsx(g.Z,{className:"w-4 h-4 text-red-500"})})]})]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(j.Z,{className:"w-4 h-4 text-gray-400"}),e.phone]}),e.email&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(v.Z,{className:"w-4 h-4 text-gray-400"}),e.email]})]}),(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"lo"===w?"ຍອດໃຊ້ຈ່າຍ":"Total Spent"}),a.jsx("span",{className:"font-bold text-rose-600",children:(0,d.xG)(e.total_spent)})]})]},e.id))}),a.jsx(c.u_,{isOpen:P,onClose:T,title:k(I?"common.edit":"customers.add"),children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),I?b(I.id,z):N(z),T()},className:"space-y-4",children:[a.jsx(c.II,{label:k("customers.name"),value:z.name,onChange:e=>L({...z,name:e.target.value}),placeholder:"lo"===w?"ຊື່ລູກຄ້າ":"Customer name",required:!0}),a.jsx(c.II,{label:k("customers.phone"),type:"tel",value:z.phone,onChange:e=>L({...z,phone:e.target.value}),placeholder:"020 xxxx xxxx",required:!0}),a.jsx(c.II,{label:k("customers.email"),type:"email",value:z.email,onChange:e=>L({...z,email:e.target.value}),placeholder:"email@example.com"}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"lo"===w?"ເພດ":"Gender"}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"gender",value:"female",checked:"female"===z.gender,onChange:e=>L({...z,gender:e.target.value}),className:"text-rose-500"}),a.jsx("span",{children:"lo"===w?"ຍິງ":"Female"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"gender",value:"male",checked:"male"===z.gender,onChange:e=>L({...z,gender:e.target.value}),className:"text-rose-500"}),a.jsx("span",{children:"lo"===w?"ຊາຍ":"Male"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"lo"===w?"ໝາຍເຫດ":"Notes"}),a.jsx("textarea",{value:z.notes,onChange:e=>L({...z,notes:e.target.value}),className:"w-full px-4 py-2.5 border rounded-lg resize-none",rows:3})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[a.jsx(c.zx,{type:"button",variant:"secondary",className:"flex-1",onClick:T,children:k("common.cancel")}),a.jsx(c.zx,{type:"submit",className:"flex-1",children:k("common.save")})]})]})}),a.jsx(c.u_,{isOpen:q,onClose:()=>S(!1),title:A?.name||"",size:"lg",children:A&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-rose-400 to-pink-500 flex items-center justify-center text-white font-bold text-2xl",children:A.name.charAt(0)}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",children:A.name}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[a.jsx(j.Z,{className:"w-4 h-4"})," ",A.phone]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"bg-rose-50 rounded-xl p-4 text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-rose-600",children:A.total_visits}),a.jsx("p",{className:"text-sm text-gray-600",children:"lo"===w?"ຄັ້ງ":"Visits"})]}),(0,a.jsxs)("div",{className:"bg-emerald-50 rounded-xl p-4 text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:(0,d.xG)(A.total_spent)}),a.jsx("p",{className:"text-sm text-gray-600",children:"lo"===w?"ໃຊ້ຈ່າຍ":"Spent"})]}),(0,a.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:(0,d.xG)(A.total_visits>0?Math.round(A.total_spent/A.total_visits):0)}),a.jsx("p",{className:"text-sm text-gray-600",children:"lo"===w?"ສະເລ່ຍ":"Avg"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"lo"===w?"ປະຫວັດນັດໝາຍ":"Appointment History"}),a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:(e=A.id,f.filter(s=>s.customer_id===e).sort((e,s)=>s.appointment_date.localeCompare(e.appointment_date))).slice(0,10).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:"lo"===w?e.service_name_lo:e.service_name}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[e.appointment_date," • ",e.appointment_time.substring(0,5)]})]}),a.jsx(c.Ct,{variant:"completed"===e.status?"success":"cancelled"===e.status?"danger":"info",children:(0,d.xG)(e.total_price)})]},e.id))})]})]})})]})})}},5884:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>r,__esModule:()=>l,default:()=>n});let a=(0,t(6843).createProxy)(String.raw`D:\Download\beauty-center-demo\src\app\customers\page.tsx`),{__esModule:l,$$typeof:r}=a,n=a.default}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[198,635,639,104,688],()=>t(5279));module.exports=a})();