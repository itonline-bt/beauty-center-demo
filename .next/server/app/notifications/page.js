(()=>{var e={};e.id=193,e.ids=[193],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9512:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var a=s(482),n=s(9108),r=s(2563),o=s.n(r),l=s(8300),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);s.d(t,i);let c=["",{children:["notifications",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,2148)),"D:\\Download\\beauty-center-demo\\src\\app\\notifications\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1403)),"D:\\Download\\beauty-center-demo\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\Download\\beauty-center-demo\\src\\app\\notifications\\page.tsx"],u="/notifications/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/notifications/page",pathname:"/notifications",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9486:(e,t,s)=>{Promise.resolve().then(s.bind(s,4991))},662:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]])},2312:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},5545:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8411:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},8271:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},4991:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var a=s(5344),n=s(3729),r=s(8428),o=s(2017),l=s(726),i=s(3538),c=s(9795),d=s(1453),u=s(5794),p=s(8411),m=s(662),x=s(5961),h=s(1917),y=s(9895),g=s(3037);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let f=(0,s(9224).Z)("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);var k=s(8271),_=s(5545),j=s(2312),b=s(4513);function w(){let e=(0,r.useRouter)(),{user:t,isAuthenticated:s}=(0,o.t)(),{notifications:w,markNotificationRead:N,markAllNotificationsRead:v,deleteNotification:Z,clearAllNotifications:q}=(0,o.a)(),{locale:P}=(0,l.useI18n)(),[M,C]=(0,n.useState)("all");if((0,n.useEffect)(()=>{s||e.push("/login")},[s,e]),!s)return null;let D=(0,n.useMemo)(()=>{let e=[...w];switch(t?.role==="staff"&&(e=e.filter(e=>!e.for_role||"admin"!==e.for_role)),M){case"unread":return e.filter(e=>!e.is_read);case"stock":return e.filter(e=>["stock_out","low_stock","out_of_stock"].includes(e.type));case"appointment":return e.filter(e=>"appointment"===e.type);case"payment":return e.filter(e=>"payment"===e.type);default:return e}},[w,M,t]),$=w.filter(e=>!e.is_read).length,A=e=>{switch(e){case"appointment":return a.jsx(u.Z,{className:"w-5 h-5"});case"payment":return a.jsx(p.Z,{className:"w-5 h-5"});case"stock_out":return a.jsx(m.Z,{className:"w-5 h-5"});case"low_stock":return a.jsx(x.Z,{className:"w-5 h-5"});case"out_of_stock":return a.jsx(h.Z,{className:"w-5 h-5"});case"customer":return a.jsx(y.Z,{className:"w-5 h-5"});default:return a.jsx(g.Z,{className:"w-5 h-5"})}},S=e=>{switch(e){case"appointment":return"bg-blue-100 text-blue-600";case"payment":return"bg-emerald-100 text-emerald-600";case"stock_out":case"out_of_stock":return"bg-red-100 text-red-600";case"low_stock":return"bg-amber-100 text-amber-600";case"customer":return"bg-purple-100 text-purple-600";default:return"bg-gray-100 text-gray-600"}},z=e=>({appointment:{en:"Appointment",lo:"ນັດໝາຍ"},payment:{en:"Payment",lo:"ການຊຳລະ"},stock_out:{en:"Stock Out",lo:"ເບີກສິນຄ້າ"},low_stock:{en:"Low Stock",lo:"ສິນຄ້າໃກ້ໝົດ"},out_of_stock:{en:"Out of Stock",lo:"ສິນຄ້າໝົດ"},customer:{en:"Customer",lo:"ລູກຄ້າ"}})[e]?.["lo"===P?"lo":"en"]||e,E=e=>{let t=new Date(e),s=new Date().getTime()-t.getTime(),a=Math.floor(s/6e4),n=Math.floor(s/36e5),r=Math.floor(s/864e5);return a<1?"lo"===P?"ຫາກໍ":"Just now":a<60?"lo"===P?`${a} ນາທີກ່ອນ`:`${a}m ago`:n<24?"lo"===P?`${n} ຊົ່ວໂມງກ່ອນ`:`${n}h ago`:r<7?"lo"===P?`${r} ວັນກ່ອນ`:`${r}d ago`:t.toLocaleDateString("lo"===P?"lo-LA":"en-US",{day:"numeric",month:"short"})},G=t=>{t.is_read||N(t.id),"appointment"===t.type&&t.appointment_id?e.push("/appointments"):"payment"===t.type&&t.bill_id?e.push("/billing"):["stock_out","low_stock","out_of_stock"].includes(t.type)&&e.push("/stock")};return a.jsx(i.Z,{children:(0,a.jsxs)("div",{className:"space-y-6 animate-fadeIn",children:[a.jsx(c.mr,{title:"lo"===P?"ແຈ້ງເຕືອນ":"Notifications",subtitle:"lo"===P?`${$} ຂໍ້ຄວາມທີ່ຍັງບໍ່ໄດ້ອ່ານ`:`${$} unread notifications`,action:(0,a.jsxs)("div",{className:"flex gap-2",children:[$>0&&a.jsx(c.zx,{variant:"secondary",size:"sm",icon:a.jsx(f,{className:"w-4 h-4"}),onClick:v,children:"lo"===P?"ອ່ານທັງໝົດ":"Mark all read"}),w.length>0&&a.jsx(c.zx,{variant:"danger",size:"sm",icon:a.jsx(k.Z,{className:"w-4 h-4"}),onClick:q,children:"lo"===P?"ລຶບທັງໝົດ":"Clear all"})]})}),a.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"all",label:"lo"===P?"ທັງໝົດ":"All",count:w.length},{key:"unread",label:"lo"===P?"ຍັງບໍ່ອ່ານ":"Unread",count:$},{key:"stock",label:"lo"===P?"ສະຕັອກ":"Stock",count:w.filter(e=>["stock_out","low_stock","out_of_stock"].includes(e.type)).length},{key:"appointment",label:"lo"===P?"ນັດໝາຍ":"Appointments",count:w.filter(e=>"appointment"===e.type).length},{key:"payment",label:"lo"===P?"ການຊຳລະ":"Payments",count:w.filter(e=>"payment"===e.type).length}].map(e=>(0,a.jsxs)("button",{onClick:()=>C(e.key),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2 ${M===e.key?"bg-rose-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.label,a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${M===e.key?"bg-white/20":"bg-gray-200"}`,children:(0,d.uf)(e.count)})]},e.key))}),a.jsx(c.Zb,{padding:"none",children:0===D.length?a.jsx(c.ub,{icon:a.jsx(g.Z,{className:"w-8 h-8"}),title:"lo"===P?"ບໍ່ມີແຈ້ງເຕືອນ":"No notifications",description:"lo"===P?"ແຈ້ງເຕືອນໃໝ່ຈະປາກົດຢູ່ນີ້":"New notifications will appear here"}):a.jsx("div",{className:"divide-y",children:D.map(e=>(0,a.jsxs)("div",{onClick:()=>G(e),className:`flex items-start gap-4 p-4 cursor-pointer transition-colors hover:bg-gray-50 ${e.is_read?"":"bg-rose-50/50"}`,children:[a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${S(e.type)}`,children:A(e.type)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:`font-semibold text-gray-900 ${e.is_read?"":"text-rose-900"}`,children:"lo"===P?e.title_lo:e.title}),!e.is_read&&a.jsx("span",{className:"w-2 h-2 rounded-full bg-rose-500"})]}),a.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:"lo"===P?e.message_lo:e.message}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-500",children:[a.jsx(c.Ct,{variant:"payment"===e.type?"success":e.type.includes("stock")?"warning":"info",size:"sm",children:z(e.type)}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[a.jsx(_.Z,{className:"w-3 h-3"}),E(e.created_at)]}),e.user_name&&(0,a.jsxs)("span",{className:"text-gray-400",children:["lo"===P?"ໂດຍ":"by",": ",e.user_name]}),e.amount&&a.jsx("span",{className:"font-medium text-emerald-600",children:(0,d.xG)(e.amount)})]}),"stock_out"===e.type&&e.quantity&&a.jsx("div",{className:"mt-2 p-2 bg-red-50 rounded-lg text-xs",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("span",{className:"text-red-700",children:[(0,a.jsxs)("strong",{children:["lo"===P?"ເບີກ":"Deducted",":"]})," ",(0,d.uf)(e.quantity)]}),(0,a.jsxs)("span",{className:"text-gray-600",children:[(0,d.uf)(e.previous_qty)," → ",a.jsx("strong",{children:(0,d.uf)(e.new_qty)})]}),e.reason&&(0,a.jsxs)("span",{className:"text-gray-500",children:["(",e.reason,")"]})]})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[!e.is_read&&a.jsx("button",{onClick:t=>{t.stopPropagation(),N(e.id)},className:"p-2 hover:bg-gray-100 rounded-lg",title:"lo"===P?"ໝາຍວ່າອ່ານແລ້ວ":"Mark as read",children:a.jsx(j.Z,{className:"w-4 h-4 text-gray-500"})}),a.jsx("button",{onClick:t=>{t.stopPropagation(),Z(e.id)},className:"p-2 hover:bg-red-50 rounded-lg",title:"lo"===P?"ລຶບ":"Delete",children:a.jsx(b.Z,{className:"w-4 h-4 text-red-500"})})]})]},e.id))})})]})})}},2148:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>r,__esModule:()=>n,default:()=>o});let a=(0,s(6843).createProxy)(String.raw`D:\Download\beauty-center-demo\src\app\notifications\page.tsx`),{__esModule:n,$$typeof:r}=a,o=a.default}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[198,635,639,104,688],()=>s(9512));module.exports=a})();