(()=>{var e={};e.id=713,e.ids=[713],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4039:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>d});var a=t(482),l=t(9108),n=t(2563),i=t.n(n),r=t(8300),c={};for(let e in r)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>r[e]);t.d(s,c);let d=["",{children:["billing",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,8015)),"D:\\Download\\beauty-center-demo\\src\\app\\billing\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1403)),"D:\\Download\\beauty-center-demo\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"]}],o=["D:\\Download\\beauty-center-demo\\src\\app\\billing\\page.tsx"],x="/billing/page",m={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/billing/page",pathname:"/billing",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3991:(e,s,t)=>{Promise.resolve().then(t.bind(t,9156))},6469:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]])},8638:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},5545:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},5674:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},8411:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},3148:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},1838:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},9599:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]])},9156:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var a=t(5344),l=t(3729),n=t(8428),i=t(2017),r=t(726),c=t(3538),d=t(9795),o=t(1453),x=t(6469),m=t(5674),h=t(8638),p=t(8411),u=t(1838),y=t(4243),g=t(7060),j=t(5545),v=t(3148),N=t(9599);function b(){let e=(0,n.useRouter)(),{user:s,isAuthenticated:t}=(0,i.t)(),{bills:b,appointments:f,customers:_,services:w,settings:k,addTransaction:Z}=(0,i.a)(),{locale:P}=(0,r.useI18n)(),[M,C]=(0,l.useState)(""),[q,z]=(0,l.useState)(""),[S,D]=(0,l.useState)(!1),[G,R]=(0,l.useState)(!1),[A,E]=(0,l.useState)(null),[I,T]=(0,l.useState)({customer_id:"",services:[],discount:"0",payment_method:"cash"});if((0,l.useEffect)(()=>{t||e.push("/login")},[t,e]),!t)return null;let B=(0,l.useMemo)(()=>b.filter(e=>{let s=e.customer_name.toLowerCase().includes(M.toLowerCase())||e.bill_number.includes(M),t=!q||e.payment_status===q;return s&&t}),[b,M,q]),H=(0,l.useMemo)(()=>({total:b.length,paid:b.filter(e=>"paid"===e.payment_status).length,pending:b.filter(e=>"pending"===e.payment_status).length,revenue:b.filter(e=>"paid"===e.payment_status).reduce((e,s)=>e+s.total_amount,0)}),[b]);f.filter(e=>"completed"===e.status);let O=e=>{E(e),D(!0)},L=e=>{switch(e){case"cash":return a.jsx(x.Z,{className:"w-4 h-4"});case"card":return a.jsx(m.Z,{className:"w-4 h-4"});case"transfer":return a.jsx(h.Z,{className:"w-4 h-4"});default:return a.jsx(p.Z,{className:"w-4 h-4"})}};return a.jsx(c.Z,{children:(0,a.jsxs)("div",{className:"space-y-6 animate-fadeIn",children:[a.jsx(d.mr,{title:"lo"===P?"ໃບບິນ":"Billing",subtitle:"lo"===P?"ຈັດການໃບບິນ ແລະ ການຊຳລະເງິນ":"Manage invoices and payments",action:a.jsx(d.zx,{icon:a.jsx(u.Z,{className:"w-5 h-5"}),onClick:()=>R(!0),children:"lo"===P?"ສ້າງໃບບິນໃໝ່":"Create Invoice"})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(d.Rm,{title:"lo"===P?"ໃບບິນທັງໝົດ":"Total Invoices",value:H.total,icon:a.jsx(y.Z,{className:"w-6 h-6"}),color:"blue"}),a.jsx(d.Rm,{title:"lo"===P?"ຊຳລະແລ້ວ":"Paid",value:H.paid,icon:a.jsx(g.Z,{className:"w-6 h-6"}),color:"emerald"}),a.jsx(d.Rm,{title:"lo"===P?"ລໍຖ້າຊຳລະ":"Pending",value:H.pending,icon:a.jsx(j.Z,{className:"w-6 h-6"}),color:"amber"}),a.jsx(d.Rm,{title:"lo"===P?"ລາຍຮັບທັງໝົດ":"Total Revenue",value:(0,o.xG)(H.revenue),icon:a.jsx(p.Z,{className:"w-6 h-6"}),color:"rose"})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx(d.Mj,{value:M,onChange:C,placeholder:"lo"===P?"ຄົ້ນຫາໃບບິນ...":"Search invoices..."})}),(0,a.jsxs)("select",{value:q,onChange:e=>z(e.target.value),className:"px-4 py-2.5 border rounded-lg bg-white",children:[a.jsx("option",{value:"",children:"lo"===P?"ທຸກສະຖານະ":"All Status"}),a.jsx("option",{value:"paid",children:"lo"===P?"ຊຳລະແລ້ວ":"Paid"}),a.jsx("option",{value:"pending",children:"lo"===P?"ລໍຖ້າຊຳລະ":"Pending"})]})]}),a.jsx("div",{className:"space-y-3",children:0===B.length?a.jsx(d.Zb,{children:a.jsx(d.ub,{icon:a.jsx(y.Z,{className:"w-8 h-8"}),title:"lo"===P?"ບໍ່ພົບໃບບິນ":"No invoices found"})}):B.map(e=>a.jsx(d.Zb,{hover:!0,className:"p-0",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 p-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-mono text-sm text-rose-600 font-semibold",children:e.bill_number}),a.jsx(d.Ct,{variant:"paid"===e.payment_status?"success":"warning",children:"paid"===e.payment_status?"lo"===P?"ຊຳລະແລ້ວ":"Paid":"lo"===P?"ລໍຖ້າ":"Pending"})]}),a.jsx("p",{className:"font-medium text-gray-900",children:e.customer_name}),a.jsx("p",{className:"text-sm text-gray-500",children:e.created_at})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"lo"===P?"ຍອດລວມ":"Total"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:(0,o.xG)(e.total_amount)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-500",children:[L(e.payment_method),a.jsx("span",{className:"text-sm capitalize",children:e.payment_method})]}),(0,a.jsxs)("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:()=>O(e),className:"p-2 hover:bg-gray-100 rounded-lg",title:"lo"===P?"ເບິ່ງ":"View",children:a.jsx(v.Z,{className:"w-5 h-5 text-gray-500"})}),a.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg",title:"lo"===P?"ພິມ":"Print",children:a.jsx(N.Z,{className:"w-5 h-5 text-gray-500"})})]})]})]})},e.id))}),a.jsx(d.u_,{isOpen:S,onClose:()=>D(!1),title:A?.bill_number||"",size:"lg",children:A&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center border-b pb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-rose-600",children:k.shop_name}),a.jsx("p",{className:"text-sm text-gray-500",children:k.address}),a.jsx("p",{className:"text-sm text-gray-500",children:k.phone})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"lo"===P?"ລູກຄ້າ":"Customer"}),a.jsx("p",{className:"font-semibold",children:A.customer_name})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"lo"===P?"ວັນທີ":"Date"}),a.jsx("p",{className:"font-semibold",children:A.created_at})]})]}),a.jsx("div",{className:"border rounded-lg overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-sm",children:"lo"===P?"ລາຍການ":"Item"}),a.jsx("th",{className:"px-4 py-2 text-right text-sm",children:"lo"===P?"ຈຳນວນ":"Amount"})]})}),a.jsx("tbody",{children:(0,a.jsxs)("tr",{className:"border-t",children:[a.jsx("td",{className:"px-4 py-3",children:"lo"===P?"ບໍລິການ":"Services"}),a.jsx("td",{className:"px-4 py-3 text-right",children:(0,o.xG)(A.subtotal)})]})})]})}),(0,a.jsxs)("div",{className:"space-y-2 pt-4 border-t",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"lo"===P?"ຍອດລວມ":"Subtotal"}),a.jsx("span",{children:(0,o.xG)(A.subtotal)})]}),A.discount_amount>0&&(0,a.jsxs)("div",{className:"flex justify-between text-sm text-red-600",children:[a.jsx("span",{children:"lo"===P?"ສ່ວນຫຼຸດ":"Discount"}),(0,a.jsxs)("span",{children:["-",(0,o.xG)(A.discount_amount)]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsxs)("span",{className:"text-gray-500",children:["lo"===P?"ອາກອນ":"Tax"," (",k.tax_rate,"%)"]}),a.jsx("span",{children:(0,o.xG)(A.tax_amount)})]}),(0,a.jsxs)("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",children:[a.jsx("span",{children:"lo"===P?"ຍອດສຸດທິ":"Total"}),a.jsx("span",{className:"text-rose-600",children:(0,o.xG)(A.total_amount)})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[L(A.payment_method),a.jsx("span",{className:"capitalize",children:A.payment_method})]}),a.jsx(d.Ct,{variant:"paid"===A.payment_status?"success":"warning",size:"md",children:"paid"===A.payment_status?"lo"===P?"ຊຳລະແລ້ວ":"Paid":"lo"===P?"ລໍຖ້າ":"Pending"})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[a.jsx(d.zx,{variant:"secondary",className:"flex-1",onClick:()=>D(!1),children:"lo"===P?"ປິດ":"Close"}),a.jsx(d.zx,{className:"flex-1",icon:a.jsx(N.Z,{className:"w-5 h-5"}),children:"lo"===P?"ພິມ":"Print"})]})]})}),a.jsx(d.u_,{isOpen:G,onClose:()=>R(!1),title:"lo"===P?"ສ້າງໃບບິນໃໝ່":"Create New Invoice",size:"lg",children:(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(y.Z,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{children:"lo"===P?"ກຳລັງພັດທະນາ...":"Coming soon..."}),a.jsx("p",{className:"text-sm mt-2",children:"lo"===P?"ໃຊ້ຂໍ້ມູນຈາກນັດໝາຍທີ່ສຳເລັດແລ້ວ":"Use completed appointments to create bills"})]})})]})})}},8015:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>l,default:()=>i});let a=(0,t(6843).createProxy)(String.raw`D:\Download\beauty-center-demo\src\app\billing\page.tsx`),{__esModule:l,$$typeof:n}=a,i=a.default}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[198,635,639,104,688],()=>t(4039));module.exports=a})();