(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{3222:function(e,s,t){Promise.resolve().then(t.bind(t,7736))},8025:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(7461).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},6490:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(7461).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8219:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(7461).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},9733:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(7461).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},7736:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return b}});var a=t(3827),l=t(4090),n=t(7907),i=t(8792),c=t(3036),r=t(9003),o=t(1965),d=t(5030),m=t(2169),x=t(8219),h=t(7307),u=t(4059),p=t(1524),f=t(8025),g=t(6490),j=t(6578),N=t(9733),y=t(5495);function b(){let e=(0,n.useRouter)(),{user:s,isAuthenticated:t}=(0,c.t)(),{appointments:b,customers:v,services:w,inventory:Z,bills:_,getDashboard:k}=(0,c.a)(),{locale:S,t:C}=(0,r.useI18n)();if((0,l.useEffect)(()=>{t||e.push("/login")},[t,e]),!t)return null;let T=new Date().toISOString().split("T")[0],D=(0,l.useMemo)(()=>k(),[b,_,Z,k]),R=b.filter(e=>e.appointment_date===T).sort((e,s)=>e.appointment_time.localeCompare(s.appointment_time)),q=Z.filter(e=>e.quantity<=e.min_quantity).slice(0,5),G=new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],M=_.filter(e=>e.created_at>=G).reduce((e,s)=>e+s.grand_total,0);b.filter(e=>e.appointment_date>=G&&"done"===e.status).length;let E=e=>(0,a.jsx)(d.Ct,{variant:{done:"success",confirmed:"info",in_progress:"info",pending:"warning",cancelled:"danger"}[e]||"default",size:"sm",children:(0,m.li)(e,S)});return(0,a.jsx)(o.Z,{children:(0,a.jsxs)("div",{className:"space-y-6 animate-fadeIn",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-rose-500 to-pink-500 rounded-2xl p-6 text-white",children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold mb-1",children:["lo"===S?"ສະບາຍດີ":"Welcome back",", ",(null==s?void 0:s.full_name)||"Admin","! \uD83D\uDC4B"]}),(0,a.jsx)("p",{className:"text-rose-100",children:"lo"===S?"ນີ້ແມ່ນສະຖານະຮ້ານຂອງທ່ານມື້ນີ້":"Here's what's happening with your salon today"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsx)(d.Rm,{title:"lo"===S?"ລາຍຮັບເດືອນນີ້":"Monthly Revenue",value:(0,m.xG)(M),icon:(0,a.jsx)(x.Z,{className:"w-6 h-6"}),color:"emerald",trend:{value:12,isUp:!0}}),(0,a.jsx)(d.Rm,{title:"lo"===S?"ນັດໝາຍມື້ນີ້":"Today's Appointments",value:(0,m.uf)(R.length),icon:(0,a.jsx)(h.Z,{className:"w-6 h-6"}),color:"blue"}),(0,a.jsx)(d.Rm,{title:"lo"===S?"ລູກຄ້າທັງໝົດ":"Total Customers",value:(0,m.uf)(v.length),icon:(0,a.jsx)(u.Z,{className:"w-6 h-6"}),color:"purple"}),(0,a.jsx)(d.Rm,{title:"lo"===S?"ສິນຄ້າໃກ້ໝົດ":"Low Stock Items",value:(0,m.uf)(q.length),icon:(0,a.jsx)(p.Z,{className:"w-6 h-6"}),color:q.length>0?"amber":"emerald"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)(d.Zb,{padding:"none",children:[(0,a.jsxs)("div",{className:"px-5 py-4 border-b flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(h.Z,{className:"w-5 h-5 text-rose-500"}),(0,a.jsx)("h2",{className:"font-semibold text-gray-900",children:"lo"===S?"ນັດໝາຍມື້ນີ້":"Today's Schedule"}),(0,a.jsx)(d.Ct,{variant:"info",children:(0,m.uf)(R.length)})]}),(0,a.jsxs)(i.default,{href:"/appointments",className:"text-sm text-rose-500 hover:text-rose-600 flex items-center gap-1",children:["lo"===S?"ເບິ່ງທັງໝົດ":"View all"," ",(0,a.jsx)(f.Z,{className:"w-4 h-4"})]})]}),(0,a.jsx)("div",{className:"divide-y max-h-[400px] overflow-y-auto",children:0===R.length?(0,a.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,a.jsx)(h.Z,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,a.jsx)("p",{children:"lo"===S?"ບໍ່ມີນັດໝາຍມື້ນີ້":"No appointments today"})]}):R.slice(0,8).map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-4 p-4 hover:bg-gray-50",children:[(0,a.jsxs)("div",{className:"w-14 h-14 rounded-xl flex flex-col items-center justify-center text-white ".concat("done"===e.status?"bg-emerald-500":"in_progress"===e.status?"bg-blue-500":"bg-gradient-to-br from-rose-500 to-pink-500"),children:[(0,a.jsx)(g.Z,{className:"w-4 h-4 opacity-75"}),(0,a.jsx)("span",{className:"text-sm font-bold",children:e.appointment_time.substring(0,5)})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900 truncate",children:e.customer_name}),E(e.status)]}),(0,a.jsx)("p",{className:"text-sm text-rose-600",children:"lo"===S?e.service_name_lo:e.service_name}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["lo"===S?"ພະນັກງານ":"Staff",": ",e.staff_name]})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsx)("p",{className:"font-bold text-gray-900",children:(0,m.xG)(e.total_price)})})]},e.id))})]})}),(0,a.jsxs)("div",{className:"space-y-6",children:[q.length>0&&(0,a.jsxs)(d.Zb,{className:"border-amber-200 bg-amber-50/50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(p.Z,{className:"w-5 h-5 text-amber-500"}),(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:"lo"===S?"ສິນຄ້າໃກ້ໝົດ":"Low Stock Alert"})]}),(0,a.jsx)("div",{className:"space-y-3",children:q.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("img",{src:e.image_url||(0,m.G)(e.name,e.category),alt:e.name,className:"w-10 h-10 rounded-lg object-cover",onError:s=>{s.target.src=(0,m.G)(e.name,e.category)}}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:"lo"===S?e.name_lo:e.name}),(0,a.jsxs)("p",{className:"text-xs text-amber-600 font-medium",children:["lo"===S?"ເຫຼືອ":"Left",": ",(0,m.uf)(e.quantity)]})]})]},e.id))}),(0,a.jsx)(i.default,{href:"/stock",className:"mt-4 block",children:(0,a.jsx)(d.zx,{variant:"secondary",size:"sm",className:"w-full",children:"lo"===S?"ຈັດການສະຕັອກ":"Manage Stock"})})]}),(0,a.jsxs)(d.Zb,{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"lo"===S?"ສະຖິຕິໄວ":"Quick Stats"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-emerald-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(j.Z,{className:"w-5 h-5 text-emerald-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"lo"===S?"ສຳເລັດມື້ນີ້":"Completed Today"})]}),(0,a.jsx)("span",{className:"font-bold text-emerald-600",children:(0,m.uf)(D.appointments.completed)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-amber-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g.Z,{className:"w-5 h-5 text-amber-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"lo"===S?"ລໍຖ້າຢືນຢັນ":"Pending"})]}),(0,a.jsx)("span",{className:"font-bold text-amber-600",children:(0,m.uf)(D.appointments.pending)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(N.Z,{className:"w-5 h-5 text-blue-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"lo"===S?"ລາຍຮັບມື້ນີ້":"Today's Revenue"})]}),(0,a.jsx)("span",{className:"font-bold text-blue-600",children:(0,m.xG)(D.revenue.today)})]})]})]}),(0,a.jsxs)(d.Zb,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(y.Z,{className:"w-5 h-5 text-rose-500"}),(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:"lo"===S?"ບໍລິການຍອດນິຍົມ":"Top Services"})]}),(0,a.jsx)("div",{className:"space-y-3",children:w.slice(0,5).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"w-6 h-6 rounded-full bg-rose-100 text-rose-600 text-xs font-bold flex items-center justify-center",children:s+1}),(0,a.jsx)("div",{className:"flex-1 min-w-0",children:(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:"lo"===S?e.name_lo:e.name})}),(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:(0,m.xG)(e.price)})]},e.id))})]})]})]})]})})}}},function(e){e.O(0,[549,576,36,619,971,69,744],function(){return e(e.s=3222)}),_N_E=e.O()}]);